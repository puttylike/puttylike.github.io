{"componentChunkName":"component---src-templates-blog-post-js","path":"/kisa-인슈어테크-서비스-개발-기초-교육-4일차/","result":{"data":{"markdownRemark":{"html":"<p>새로운 ppt를 또 받았다.</p>\n<hr>\n<p>jMeter를 이용해 DB 손보 시나리오 API를 실행하였다.<br>\njMeter에서 View Results Tree에서 Request 를 조회할 수 있다.</p>\n<p>Request Body에 POST 방식으로 돼 있음을 알 수 있고,<br>\nRequest Headers에 key 값이 있음을 알 수 있다.</p>\n<p>PostMan에서도 잘 되는지 확인한다.</p>\n<p>이 Send한 부분을\r\nNode.js - Axios 코드로 변환할 수도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n  url<span class=\"token operator\">:</span> <span class=\"token string\">'https://dev-gateway.dbins.co.kr:8903/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span>\r\n  headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>어제 못 다 만든 AuthTest 부터 다시 만들었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\r\n\r\n<span class=\"token comment\">//LOGIC</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthTest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//axios api 요청 만들기</span>\r\n        <span class=\"token comment\">//CONSOLE.LOG 요청에 대한 결과 출력하기</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'https://dev-gateway.dbins.co.kr:8903/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'이용기관 ACCESS Token'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토큰발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AuthTest<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>에러가 발생한다.</p>\n<p>Error: Network Error\r\nat createError (createError.js:16)\r\nat XMLHttpRequest.handleError (xhr.js:84)</p>\n<p>프록시 서버 세팅이 필요하다.<br>\n여기서는 Request와 Response 사이에 미들웨어를 추가하기 위해 src에 setupProxy.js를 추가하는 식으로 해결한다.<br>\nv1.0이면 target으로 주소를 붙여준다는 의미이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* setupProxy.js */</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createProxyMiddleware <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http-proxy-middleware'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'/v1.0'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function\">createProxyMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n      target<span class=\"token operator\">:</span> <span class=\"token string\">'https://dev-gateway.dbins.co.kr:8903'</span><span class=\"token punctuation\">,</span>\r\n      changeOrigin<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>여기에 맞춰 AuthTest의 url 부분을 아래와 같이 수정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js*/</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\r\n\r\n<span class=\"token comment\">//LOGIC</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthTest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//axios api 요청 만들기</span>\r\n        <span class=\"token comment\">//CONSOLE.LOG 요청에 대한 결과 출력하기</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// v.1.0이면 자동으로 앞 주소 https://dev-gateway.dbins.co.kr:8903 붙여줌</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'이용기관 ACCESS Token'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토큰발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AuthTest<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>package를 설치하고 다시 시작해 테스트를 하면,\r\n통신이 정상적으로 잘 된다.</p>\n<p>$ npm install http-proxy-middleware</p>\n<hr>\n<p>해쉬 키 hsKey는 편지의 도장처럼 정보를 잘 보냈는지 보내는 키 값이다.<br>\n중간자 공격을 방지하기 위한 기법으로, 보통 api 키에서는 잘 안 해두긴 한다.</p>\n<p>마스터증권저장조회여부에서 해쉬 키를 생성한다.<br>\n암호화 알고리즘이 사용된다.</p>\n<p>jMeter option 메뉴에서 Log Viewer를 누르고 Start를 하면\r\n해당 화면 하단에서 log를 볼 수 있다.</p>\n<p>가령, clientIP를 바꾸면, 변경 전/후 해쉬 키 값 hashvalue 이 많이 바뀐다.</p>\n<p>src 폴더에  폴더를 만들고 apiCrypto.js 파일을 생성한다.\r\n마스터증권저장조회여부 내 Hash 에서 crypto가 있듯이 js에서도 동일하게 만드는데,<br>\nappKey와 timeSt를 합해 hash 키를 생성하니 동일하게 코드를 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* appCrypto.js */</span>\r\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> appKey <span class=\"token operator\">=</span> <span class=\"token string\">\"l7xxe840074288574eeabb346f15f7a3d6af\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> timeSt <span class=\"token operator\">=</span> <span class=\"token string\">\"20210218190839\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">hsKey</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// str을 갖고 hmac을 활용해 update에서 signed 출력</span>\r\n    <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> appKey <span class=\"token operator\">+</span> timeSt<span class=\"token punctuation\">;</span> <span class=\"token comment\">// appkey + timestamp</span>\r\n    <span class=\"token keyword\">var</span> hmac <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sha512\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 어떤 알고리즘? 어떤 사양 사용 : sha512 기법 사용, key를 utf-8로 읽어 버퍼화해서 암호화한다.</span>\r\n    <span class=\"token keyword\">var</span> signed <span class=\"token operator\">=</span> hmac<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"base64\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>signed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> signed\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token function\">hsKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello javascript'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>node.js 명령어를 통해 hello javascript로 해쉬 키 생성을 해본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">cd</span> my-app/src/lib/  \r\n$ node .<span class=\"token punctuation\">\\</span>apiCrypto.js  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>=> 수행 결과<br>\nb0orfscwy+sHajnjEnVCw7Na9PxB3Y9OU4pbjpCDlQrbkxyd4I8/W88N5UmoO4tSA7m9qKfBnXH7UI3udBHBNg==</p>\n<p>cf. 시저 암호<br>\nkl krz duh brx l dp ilqh<br>\nhi how are you i am fine</p>\n<p>이번에는 시저 암호를 테스트해 보자.<br>\nlib 폴더에 ceaser.js 를 생성한다.</p>\n<p>AuthTest에 아래 내용을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span>\r\n<span class=\"token keyword\">const</span> ceaser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./ceaser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ceaser<span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'kl krz duh brx l dp ilqh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ceaser<span class=\"token punctuation\">.</span><span class=\"token function\">encrypt</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'hi how are you i am fine'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// hi how are you i am fine => kl krz duh brx l dp ilqh  </span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* ceaser.js */</span>\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">encrypt</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">encrypt</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">shift<span class=\"token punctuation\">,</span> plaintext</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">caesar</span><span class=\"token punctuation\">(</span>shift<span class=\"token punctuation\">,</span> plaintext<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">decrypt</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">shift<span class=\"token punctuation\">,</span> ciphertext</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">caesar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">26</span> <span class=\"token operator\">-</span> shift<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span> ciphertext<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">caesar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">shift<span class=\"token punctuation\">,</span> input</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^-?\\d+$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>shift<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Shift is not an integer'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shift <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> shift <span class=\"token operator\">>=</span> <span class=\"token number\">26</span><span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Shift is out of range'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">var</span> output <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>length\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">charCodeAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// Small fix for cedilla</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">231</span><span class=\"token punctuation\">)</span>\r\n            c <span class=\"token operator\">=</span> <span class=\"token number\">99</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">199</span><span class=\"token punctuation\">)</span>\r\n            c <span class=\"token operator\">=</span> <span class=\"token number\">67</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">>=</span> <span class=\"token number\">65</span> <span class=\"token operator\">&amp;&amp;</span> c <span class=\"token operator\">&lt;=</span>  <span class=\"token number\">90</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// upcase</span>\r\n            output <span class=\"token operator\">+=</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">fromCharCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">-</span> <span class=\"token number\">65</span> <span class=\"token operator\">+</span> shift<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">26</span> <span class=\"token operator\">+</span> <span class=\"token number\">65</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">>=</span> <span class=\"token number\">97</span> <span class=\"token operator\">&amp;&amp;</span> c <span class=\"token operator\">&lt;=</span> <span class=\"token number\">122</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// downcase</span>\r\n            output <span class=\"token operator\">+=</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">fromCharCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">-</span> <span class=\"token number\">97</span> <span class=\"token operator\">+</span> shift<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">26</span> <span class=\"token operator\">+</span> <span class=\"token number\">97</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// copy thru</span>\r\n            output <span class=\"token operator\">+=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> output\r\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제는 AuthTest를 수정해 마스터증권을 추가한다.<br>\n그 전에 AuthTest에서 hsKey를 쓸 수 있게 apiCrypto.js 를 export 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* apiCrypto.js */</span>\r\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> appKey <span class=\"token operator\">=</span> <span class=\"token string\">\"l7xxe840074288574eeabb346f15f7a3d6af\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> timeSt <span class=\"token operator\">=</span> <span class=\"token string\">\"20210218190839\"</span><span class=\"token punctuation\">;</span>\r\n\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">hsKey</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> appKey <span class=\"token operator\">+</span> timeSt<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">var</span> hmac <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sha512\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">var</span> signed <span class=\"token operator\">=</span> hmac<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"base64\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>signed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> signed\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>AuthTest를 수정한다.</p>\n<p>인증키 발급 조회를 통해 값을 가져온 AccessToken을 화면에 표시하고,<br>\n마스터증번 쪽에 isLogin 을 추가해 T/F로 로그인 여부를 확인한다.</p>\n<p>reponsedata - requestbody</p>\n<p>{\"dataBody\":{\"isLogin\":\"true\",\"resCd\":\"ZJ001 @ 20210415101032595000_OASUSRID_0558_APIE_d1oasap1\"},\"dataHeader\":{\"resultCode\":\"ZJ001 @ 20210415101032595000_OASUSRID_0558_APIE_d1oasap1\",\"guid\":\"20210415-1010-3258-a9e3-ba6acb8091fa\",\"screen_id\":\"/v1.0/GNI/comm/mastplysrch\",\"resultMessage\":\"정상적으로 처리 되었습니다.\",\"channel_id\":\"000001756283661c-3d8a40\",\"successCode\":\"0\"}}</p>\n<p>json Parser 에 위 값을 넣어 보면, 좀 더 깔끔하게(?) 볼 수 있다.</p>\n<p>cf. <a href=\"http://json.parser.online.fr/\">http://json.parser.online.fr/</a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> cryptoMy <span class=\"token keyword\">from</span> <span class=\"token string\">'../lib/apiCrypto'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">//LOGIC</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthTest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> dataBody <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string\">\"dataHeader\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">\"dataBody\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">\"language\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"country\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"clientIp\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"txId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"20200825153816934000000__3939_server1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"exTxId\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"serviceName\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GDBD205BS.aPiiMastPlyNrmYnSrch\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"errorCode\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"rowsPerPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestTimestamp\"</span><span class=\"token operator\">:</span><span class=\"token number\">1598337496944</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"returnMessage\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"traceFlag\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"테스터\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_cd\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_type\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_err_cpn_id\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_sys_msg_cn\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_work_mnu_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_chn_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GUI\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_mac_adr\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_afcp_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_cnof_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_ptl_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_magc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_rp_agnc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_comm_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_email\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ctf_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_in_outs_dvn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_srch_ref_orr\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_row_type\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_page_if\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_rltn_sys_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"appt_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11111\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"mast_plno\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"120210341120\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"nrm_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"10786830\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superIFVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superPRTVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>companyAccessToken<span class=\"token punctuation\">,</span> setcompanyAccessToken<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>masterResult<span class=\"token punctuation\">,</span> setmasterResult<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//axios api 요청 만들기</span>\r\n        <span class=\"token comment\">//CONSOLE.LOG 요청에 대한 결과 출력하기</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setcompanyAccessToken</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getMaster</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/GNI/comm/mastplysrch'</span><span class=\"token punctuation\">,</span>\r\n            data <span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'Authorization'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Bearer '</span> <span class=\"token operator\">+</span> companyAccessToken<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'timestamp'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'20210218190839'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'ci'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'E4PIs45uiscs8quYnySoQXuZKwjB66mE3Wqvw9gRuWOqMON3FiLQt+U4ZV42Y1+prQWpFWWnbKomShR+O5dHlg=='</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'hsKey'</span> <span class=\"token operator\">:</span> cryptoMy<span class=\"token punctuation\">.</span><span class=\"token function\">hsKey</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">;</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setmasterResult</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'이용기관 ACCESS Token'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토큰발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>companyAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getMaster<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>마스터 증권<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>masterResult<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AuthTest<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>마스터증번에 이어 AuthTest에 이용자 토큰 발급을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<hr>\n<h4 id=\"1-상해가입설계보험료산출\" style=\"position:relative;\">1. 상해가입설계/보험료산출<a href=\"#1-%EC%83%81%ED%95%B4%EA%B0%80%EC%9E%85%EC%84%A4%EA%B3%84%EB%B3%B4%ED%97%98%EB%A3%8C%EC%82%B0%EC%B6%9C\" aria-label=\"1 상해가입설계보험료산출 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Response data 의 Response Body의 값을 json parser 에 넣어 보자.<br>\nins_rsdn_no 는 주민번호 인데 (당연히) 암호화 돼 있는 값을 사용한다.</p>\n<p>java 파일의 주민번호 암호화 로직 이해가 필요하다.</p>\n<h5 id=\"참고-주민번호-암호화-로직\" style=\"position:relative;\">참고) 주민번호 암호화 로직<a href=\"#%EC%B0%B8%EA%B3%A0-%EC%A3%BC%EB%AF%BC%EB%B2%88%ED%98%B8-%EC%95%94%ED%98%B8%ED%99%94-%EB%A1%9C%EC%A7%81\" aria-label=\"참고 주민번호 암호화 로직 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>lib 내 javaAES256.java 를 추가해 코드를 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token comment\">/* javaAES256.java */</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> <span class=\"token function\">encrypt</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> plainStr<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> secureKey<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n  secureKey <span class=\"token operator\">=</span> <span class=\"token class-name\">StringUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">rpad</span><span class=\"token punctuation\">(</span>secureKey<span class=\"token punctuation\">,</span> <span class=\"token class-name\">AES256CipherUtil</span><span class=\"token punctuation\">.</span>KEY_BYTE_SIZE<span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">SecureRandom</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SecureRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">byte</span> bytes<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  random<span class=\"token punctuation\">.</span><span class=\"token function\">nextBytes</span><span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// Password-Based Key Derivation function 2</span>\r\n  <span class=\"token class-name\">SecretKeyFactory</span> factory <span class=\"token operator\">=</span> <span class=\"token class-name\">SecretKeyFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PBKDF2WithHmacSHA1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// 70000번 해시하여 256 bit 길이의 키를 만든다.</span>\r\n  <span class=\"token class-name\">PBEKeySpec</span> spec <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PBEKeySpec</span><span class=\"token punctuation\">(</span>secureKey<span class=\"token punctuation\">.</span><span class=\"token function\">toCharArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">,</span> <span class=\"token number\">70000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">SecretKey</span> secretKey <span class=\"token operator\">=</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">generateSecret</span><span class=\"token punctuation\">(</span>spec<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">SecretKeySpec</span> secret <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SecretKeySpec</span><span class=\"token punctuation\">(</span>secretKey<span class=\"token punctuation\">.</span><span class=\"token function\">getEncoded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"AES\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// 알고리즘/모드/패딩</span>\r\n  <span class=\"token comment\">// CBC : Cipher Block Chaining Mode</span>\r\n  <span class=\"token class-name\">Cipher</span> cipher <span class=\"token operator\">=</span> <span class=\"token class-name\">Cipher</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AES/CBC/PKCS5Padding\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  cipher<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Cipher</span><span class=\"token punctuation\">.</span>ENCRYPT_MODE<span class=\"token punctuation\">,</span> secret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">AlgorithmParameters</span> params <span class=\"token operator\">=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">getParameters</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// Initial Vector(1단계 암호화 블록용)</span>\r\n  <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> ivBytes <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span><span class=\"token function\">getParameterSpec</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IvParameterSpec</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getIV</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> encryptedTextBytes <span class=\"token operator\">=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">doFinal</span><span class=\"token punctuation\">(</span>plainStr<span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StandardCharsets</span><span class=\"token punctuation\">.</span>UTF_8<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span>bytes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> ivBytes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> encryptedTextBytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">arraycopy</span><span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> buffer<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">arraycopy</span><span class=\"token punctuation\">(</span>ivBytes<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> buffer<span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> ivBytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">arraycopy</span><span class=\"token punctuation\">(</span>encryptedTextBytes<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> buffer<span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> ivBytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> encryptedTextBytes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">Base64</span><span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>pkcs7을 설치하고, apiCrypto 를 수정한다.</p>\n<p>$ npm i pkcs7</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* apiCrypto.js*/</span>\r\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> pkcs7 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pkcs7'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> appSecretKey <span class=\"token operator\">=</span> <span class=\"token string\">\"f8449d6220b54dddb892a262409c3e07\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> timeSt <span class=\"token operator\">=</span> <span class=\"token string\">\"20210218190839\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> caesar <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./ceasar'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">rpad</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str<span class=\"token punctuation\">,</span> padLen<span class=\"token punctuation\">,</span> padStr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>padStr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> padLen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'오류 : 채우고자 하는 문자열이 요청 길이보다 큽니다'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> str <span class=\"token operator\">+</span> <span class=\"token string\">''</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    str <span class=\"token operator\">+=</span> <span class=\"token string\">''</span> <span class=\"token comment\">// 문자로</span>\r\n    padStr <span class=\"token operator\">+=</span> <span class=\"token string\">''</span> <span class=\"token comment\">// 문자로</span>\r\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> padLen<span class=\"token punctuation\">)</span> str <span class=\"token operator\">+=</span> padStr\r\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> padLen <span class=\"token operator\">?</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> padLen<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> str\r\n    <span class=\"token keyword\">return</span> str\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pkcs7Pad</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">params</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> buffer <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> bytes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        bytes<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>pkcs7<span class=\"token punctuation\">.</span><span class=\"token function\">pad</span><span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">hsKey</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> appSecretKey <span class=\"token operator\">+</span> timeSt<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">var</span> hmac <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sha512\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">var</span> signed <span class=\"token operator\">=</span> hmac<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"base64\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>signed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> signed\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">ssnEncrypt</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ssnnum</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">let</span> algorithm <span class=\"token operator\">=</span> <span class=\"token string\">'aes-256-cbc'</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> serial <span class=\"token operator\">=</span> timeSt <span class=\"token operator\">+</span> appSecretKey<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> secureKey <span class=\"token operator\">=</span> <span class=\"token function\">rpad</span><span class=\"token punctuation\">(</span>serial<span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">var</span> bytes <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">randomBytes</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> iv <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">randomBytes</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2Sync</span><span class=\"token punctuation\">(</span>secureKey<span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">,</span> <span class=\"token number\">70000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> cipher <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createCipheriv</span><span class=\"token punctuation\">(</span>algorithm<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> iv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        cipher<span class=\"token punctuation\">.</span><span class=\"token function\">setAutoPadding</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>bytes<span class=\"token punctuation\">,</span> iv<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> conBuf <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>conBuf<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> encrypted <span class=\"token operator\">=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token function\">pkcs7Pad</span><span class=\"token punctuation\">(</span>ssnnum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        encrypted <span class=\"token operator\">+=</span> conBuf<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        encrypted <span class=\"token operator\">+=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">final</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>encrypted<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> encrypted<span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\r\n<span class=\"token keyword\">import</span> cryptoMy <span class=\"token keyword\">from</span> <span class=\"token string\">'../lib/apiCrypto'</span>\r\n<span class=\"token comment\">//LOGIC</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthTest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> dataBody <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string\">\"dataHeader\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">\"dataBody\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">\"language\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"country\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"clientIp\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"txId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"20200825153816934000000__3939_server1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"exTxId\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"serviceName\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GDBD205BS.aPiiMastPlyNrmYnSrch\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"errorCode\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"rowsPerPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestTimestamp\"</span><span class=\"token operator\">:</span><span class=\"token number\">1598337496944</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"returnMessage\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"traceFlag\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"테스터\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_cd\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_type\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_err_cpn_id\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_sys_msg_cn\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_work_mnu_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_chn_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GUI\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_mac_adr\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_afcp_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_cnof_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_ptl_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_magc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_rp_agnc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_comm_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_email\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ctf_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_in_outs_dvn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_srch_ref_orr\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_row_type\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_page_if\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_rltn_sys_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"appt_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11111\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"mast_plno\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"120210341120\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"nrm_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"10786830\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superIFVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superPRTVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>companyAccessToken<span class=\"token punctuation\">,</span> setcompanyAccessToken<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>masterResult<span class=\"token punctuation\">,</span> setmasterResult<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>userAccessToken<span class=\"token punctuation\">,</span> setuserAccessToken<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//axios api 요청 만들기</span>\r\n        <span class=\"token comment\">//CONSOLE.LOG 요청에 대한 결과 출력하기</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setcompanyAccessToken</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getMaster</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/GNI/comm/mastplysrch'</span><span class=\"token punctuation\">,</span>\r\n            data <span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'Authorization'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Bearer '</span> <span class=\"token operator\">+</span> companyAccessToken<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'timestamp'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'20210218190839'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'ci'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'E4PIs45uiscs8quYnySoQXuZKwjB66mE3Wqvw9gRuWOqMON3FiLQt+U4ZV42Y1+prQWpFWWnbKomShR+O5dHlg=='</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'hsKey'</span> <span class=\"token operator\">:</span> cryptoMy<span class=\"token punctuation\">.</span><span class=\"token function\">hsKey</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">;</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setmasterResult</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/resourceOwner'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Authorization'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Bearer '</span> <span class=\"token operator\">+</span> companyAccessToken<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'ci'</span><span class=\"token operator\">:</span> <span class=\"token string\">'E4PIs45uiscs8quYnySoQXuZKwjB66mE3Wqvw9gRuWOqMON3FiLQt+U4ZV42Y1+prQWpFWWnbKomShR+O5dHlg=='</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setuserAccessToken</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'이용기관 ACCESS Token'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토큰발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>companyAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getMaster<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>마스터 증권<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>masterResult<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getUserAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>이용자 토큰 발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>userAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AuthTest<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>SearchTool을 추가해 빈 칸에 주민번호를 넣어 log 상으로 암호화가 되는지 확인해 본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* AuthTest.js */</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\r\n<span class=\"token keyword\">import</span> cryptoMy <span class=\"token keyword\">from</span> <span class=\"token string\">'../lib/apiCrypto'</span>\r\n<span class=\"token keyword\">import</span> SearchTool <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/SearchTool'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">//LOGIC</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthTest</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> dataBody <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string\">\"dataHeader\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">\"dataBody\"</span><span class=\"token operator\">:</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">\"language\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"country\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"clientIp\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"txId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"20200825153816934000000__3939_server1\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"exTxId\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"serviceName\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GDBD205BS.aPiiMastPlyNrmYnSrch\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"errorCode\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"rowsPerPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"totalPage\"</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"requestTimestamp\"</span><span class=\"token operator\">:</span><span class=\"token number\">1598337496944</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"returnMessage\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"traceFlag\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"테스터\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_cd\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_msg_type\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_err_cpn_id\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_sys_msg_cn\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_work_mnu_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_chn_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"GUI\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_mac_adr\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_afcp_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_orn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_stcn_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_hdqt_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bzlv_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bh_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_brc_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_cnof_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_dvcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ormm_ptl_tpcd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_magc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_rp_agnc_no\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_comm_auth_grp_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_pos_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_dty_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_clpo_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_bdut_nm\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_email\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_ctf_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_in_outs_dvn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_srch_ref_orr\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_row_type\"</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_page_if\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_scrn_rltn_sys_cd\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"appt_key\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"11111\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"mast_plno\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"120210341120\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"nrm_yn\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"z_user_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"10786830\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superIFVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"superPRTVO\"</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>companyAccessToken<span class=\"token punctuation\">,</span> setcompanyAccessToken<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>masterResult<span class=\"token punctuation\">,</span> setmasterResult<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>userAccessToken<span class=\"token punctuation\">,</span> setuserAccessToken<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//axios api 요청 만들기</span>\r\n        <span class=\"token comment\">//CONSOLE.LOG 요청에 대한 결과 출력하기</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/clientCredential'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setcompanyAccessToken</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getMaster</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/GNI/comm/mastplysrch'</span><span class=\"token punctuation\">,</span>\r\n            data <span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'Authorization'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Bearer '</span> <span class=\"token operator\">+</span> companyAccessToken<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'timestamp'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'20210218190839'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'ci'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'E4PIs45uiscs8quYnySoQXuZKwjB66mE3Wqvw9gRuWOqMON3FiLQt+U4ZV42Y1+prQWpFWWnbKomShR+O5dHlg=='</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'hsKey'</span> <span class=\"token operator\">:</span> cryptoMy<span class=\"token punctuation\">.</span><span class=\"token function\">hsKey</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataBody<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">;</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setmasterResult</span><span class=\"token punctuation\">(</span>isLogin<span class=\"token punctuation\">,</span> resCd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'/v1.0/cert/oauth2.0/resourceOwner'</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'appKey'</span><span class=\"token operator\">:</span> <span class=\"token string\">'l7xxe840074288574eeabb346f15f7a3d6af'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'appSecret'</span><span class=\"token operator\">:</span> <span class=\"token string\">'f8449d6220b54dddb892a262409c3e07'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=utf-8'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'Authorization'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Bearer '</span> <span class=\"token operator\">+</span> companyAccessToken<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'ci'</span><span class=\"token operator\">:</span> <span class=\"token string\">'E4PIs45uiscs8quYnySoQXuZKwjB66mE3Wqvw9gRuWOqMON3FiLQt+U4ZV42Y1+prQWpFWWnbKomShR+O5dHlg=='</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setuserAccessToken</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dataBody<span class=\"token punctuation\">.</span>access_token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// handle error</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// always executed</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>userSsn<span class=\"token punctuation\">,</span> setUserSsn<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ssnChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token function\">setUserSsn</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">encrpytSsnBtn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n        cryptoMy<span class=\"token punctuation\">.</span><span class=\"token function\">ssnEncrypt</span><span class=\"token punctuation\">(</span>userSsn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>userSsn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n     <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'이용기관 ACCESS Token'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토큰발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>companyAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getMaster<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>마스터 증권<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>masterResult<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getUserAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>이용자 토큰 발급<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>userAccessToken<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>SearchTool changeText<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ssnChange<span class=\"token punctuation\">}</span> clickBtn<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>encrpytSsnBtn<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SearchTool<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AuthTest<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<h4 id=\"비행기-최저가-조회-api-실습\" style=\"position:relative;\">비행기 최저가 조회 API 실습<a href=\"#%EB%B9%84%ED%96%89%EA%B8%B0-%EC%B5%9C%EC%A0%80%EA%B0%80-%EC%A1%B0%ED%9A%8C-api-%EC%8B%A4%EC%8A%B5\" aria-label=\"비행기 최저가 조회 api 실습 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>rapidapi를 회원 가입하고 subscribe를 한다.</p>\n<p>cf. <a href=\"https://rapidapi.com/\">https://rapidapi.com/</a></p>\n<p>cf. <a href=\"https://rapidapi.com/skyscanner/api/skyscanner-flight-search\">https://rapidapi.com/skyscanner/api/skyscanner-flight-search</a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">/* FlightInput.js */</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/Header'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> SearchTool <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/SearchTool'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> SearchResult <span class=\"token keyword\">from</span> <span class=\"token string\">'../component/SearchResult'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\r\n\r\n<span class=\"token comment\">//LOGIC</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">FlightInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>departureLocation<span class=\"token punctuation\">,</span> setdepartureLocation<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ICN-sky'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>destinationLoacation<span class=\"token punctuation\">,</span> setdestinationLoacation<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'JFK-sky'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>departureDate<span class=\"token punctuation\">,</span> setdepartureDate<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2021-04-15'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>inboundDate<span class=\"token punctuation\">,</span> setinboundDate<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2021-04-20'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>plan<span class=\"token punctuation\">,</span> setPlan<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">clickBtn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/KRW/ko/'</span><span class=\"token operator\">+</span>\r\n        departureLocation <span class=\"token operator\">+</span> <span class=\"token string\">'/'</span> <span class=\"token operator\">+</span> destinationLoacation <span class=\"token operator\">+</span> <span class=\"token string\">'/2021-05-01'</span><span class=\"token punctuation\">)</span>\r\n\r\n        <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            method<span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\r\n            url<span class=\"token operator\">:</span> <span class=\"token string\">'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/ko/KRW/ko/'</span><span class=\"token operator\">+</span>\r\n            departureLocation <span class=\"token operator\">+</span> <span class=\"token string\">'/'</span> <span class=\"token operator\">+</span> destinationLoacation <span class=\"token operator\">+</span> <span class=\"token string\">'/'</span> <span class=\"token operator\">+</span> departureDate<span class=\"token punctuation\">,</span>\r\n            params<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>inboundpartialdate<span class=\"token operator\">:</span> inboundDate<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n              <span class=\"token string\">'x-rapidapi-key'</span><span class=\"token operator\">:</span> <span class=\"token string\">'3306ecbfffmsha6126fa12e98531p13e362jsndf48fa6dfadb'</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token string\">'x-rapidapi-host'</span><span class=\"token operator\">:</span> <span class=\"token string\">'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com'</span>\r\n            <span class=\"token punctuation\">}</span>\r\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n          axios<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n              <span class=\"token function\">setPlan</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          \r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inputChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n       <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\r\n       <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'departInput'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n          <span class=\"token function\">setdepartureLocation</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n       <span class=\"token punctuation\">}</span>\r\n       <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'destiInput'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n          <span class=\"token function\">setdestinationLoacation</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n       <span class=\"token punctuation\">}</span>\r\n       <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'departDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">setdestinationLoacation</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n         <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'inboundDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setdestinationLoacation</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Header title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'비행 데이터 입력'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\r\n            출발지 <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inputChange<span class=\"token punctuation\">}</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>departureLocation<span class=\"token punctuation\">}</span> name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'departInput'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>input<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            도착지 <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inputChange<span class=\"token punctuation\">}</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>destinationLoacation<span class=\"token punctuation\">}</span> name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'destiInput'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>input<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            출발일 <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inputChange<span class=\"token punctuation\">}</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>departureDate<span class=\"token punctuation\">}</span> name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'departDate'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>input<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            도착일 <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inputChange<span class=\"token punctuation\">}</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inboundDate<span class=\"token punctuation\">}</span> name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'inboundDate'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>input<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>clickBtn<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>select<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"JFK-sky\"</span><span class=\"token operator\">></span><span class=\"token constant\">JFK</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"ICN-sky\"</span><span class=\"token operator\">></span><span class=\"token constant\">ICN</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"JFK-sky\"</span><span class=\"token operator\">></span><span class=\"token constant\">JFK</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"JFK-sky\"</span><span class=\"token operator\">></span><span class=\"token constant\">JFK</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>select<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>plan <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">&amp;&amp;</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>출발지 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>plan<span class=\"token punctuation\">.</span>Places<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>CityName<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>도착지 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>plan<span class=\"token punctuation\">.</span>Places<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>CityName<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>운항사 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>plan<span class=\"token punctuation\">.</span>Carriers<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>출발시간 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>plan<span class=\"token punctuation\">.</span>Quotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>QuoteDateTime<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>최저가 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>plan<span class=\"token punctuation\">.</span>Quotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>MinPrice<span class=\"token punctuation\">}</span>원<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'보험에 가입하시겠습니까?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span> 선택완료 <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> FlightInput<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ㅇ</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EC%83%81%ED%95%B4%EA%B0%80%EC%9E%85%EC%84%A4%EA%B3%84%EB%B3%B4%ED%97%98%EB%A3%8C%EC%82%B0%EC%B6%9C\">1. 상해가입설계/보험료산출</a></p>\n<ul>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%A3%BC%EB%AF%BC%EB%B2%88%ED%98%B8-%EC%95%94%ED%98%B8%ED%99%94-%EB%A1%9C%EC%A7%81\">참고) 주민번호 암호화 로직</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B9%84%ED%96%89%EA%B8%B0-%EC%B5%9C%EC%A0%80%EA%B0%80-%EC%A1%B0%ED%9A%8C-api-%EC%8B%A4%EC%8A%B5\">비행기 최저가 조회 API 실습</a></p>\n</li>\n</ul>","frontmatter":{"title":"KISA 교육 후기 - 인슈어테크 서비스 개발 기초 교육 과정 4일차"}}},"pageContext":{"slug":"/kisa-인슈어테크-서비스-개발-기초-교육-4일차/"}},"staticQueryHashes":["3159585216"]}